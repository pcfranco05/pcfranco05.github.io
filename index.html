<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <title>PHILIP FRANCO</title>
        <script type="text/javascript" src="d3/d3.v3.js"></script>
    </head>
    <body>
		<h1>PHILIP FRANCO</h1>
        <script type="text/javascript">

			//Width and height
			var w = 500;
			var h = 500;
			var padding = 30;

			// randomly generate the datasets
			var xRange = Math.random() * 100;	
    		var yRange = Math.random() * 100;
			
			var xAll = [];

			var datasetCircle = [];
			var numDataPoints = 25;
			for (var i = 0; i < numDataPoints; i++) {
				var newNumber1 = Math.random() * xRange;
				var newNumber2 = Math.random() * yRange;
				xAll.push(newNumber1);
				datasetCircle.push([newNumber1, newNumber2]);			
			}

			var datasetTri = [];
			var numDataPoints = 25;				
			for (var i = 0; i < numDataPoints; i++) {					
				var newNumber1 = Math.random() * xRange;
				var newNumber2 = Math.random() * yRange;
				xAll.push(newNumber1)
				datasetTri.push([newNumber1, newNumber2]);		
			}
			
			// find avg number
			var xAvg = d3.mean(xAll);

			// find the max X and max Y of the random values for the scaling
			if (d3.max(datasetCircle, function(d) { return d[0]; }) > 
			    d3.max(datasetTri, function(d) { return d[0]; })) {
				var maxX = d3.max(datasetCircle, function(d) { return d[0];});
			}
			else {
				var maxX = d3.max(datasetTri, function(d) { return d[0];});
			}

			if (d3.max(datasetCircle, function(d) { return d[0]; }) > 
			    d3.max(datasetTri, function(d) { return d[0]; })) {
				var maxY = d3.max(datasetCircle, function(d) { return d[1];});
			}
			else {
				var maxY = d3.max(datasetTri, function(d) { return d[1];});
			}
								
			//Create scale functions
			var xScale = d3.scale.linear()
								 .domain([0, maxX])
								 .range([padding, w - padding * 2]);

			var yScale = d3.scale.linear()
								 .domain([0, maxY])
								 .range([h - padding, padding]);

			var sizeScale = d3.scale.linear()
								 .domain([0, maxX])
								 .range([5, 50]);

			//Create SVG element
			var svg = d3.select("body")
						.append("svg")
						.attr("width", w)
						.attr("height", h);

			//Create circles
			var arc = d3.svg.symbol().type('circle')
				.size(function(d){ return sizeScale(d[0]); });

			var line = svg.append('g')
					.selectAll('path')
					.data(datasetCircle)
					.enter()
					.append('path')
					.attr('d',arc)
					.attr('fill', 'white')
					.attr('stroke', function(d) {
				    if (d[0] > xAvg)
			   			return 'blue';
					else
						return 'green';
			   		})
					.attr('stroke-width',1)
					.attr('transform', function(d){return "translate("+(xScale(d[0]))+","+(yScale(d[1]))+")"; });

			// create triangles
			var arc = d3.svg.symbol().type('triangle-up')
				.size(function(d){ return sizeScale(d[0]); });
			
			var line = svg.append('g')
					.selectAll('path')
					.data(datasetTri)
					.enter()
					.append('path')
					.attr('d',arc)
					.attr('fill', 'white')
					.attr('stroke', function(d) {
				    if (d[0] > xAvg)
			   			return 'blue';
					else
						return 'green';
			   		})
					.attr('stroke-width',1)
					.attr('transform', function(d){return "translate("+(xScale(d[0]))+","+(yScale(d[1]))+")"; });
		
			//Define X axis
			var xAxis = d3.svg.axis()
							  .scale(xScale)
							  .orient("bottom")
							  .ticks(5);

			//Define Y axis
			var yAxis = d3.svg.axis()
							  .scale(yScale)
							  .orient("left")
							  .ticks(5);

			//Create X axis 
			svg.append("g")
				.attr("class", "axis")
				.attr("transform", "translate(0," + (h - padding) + ")")
				.call(xAxis);
			
			//Create Y axis
			svg.append("g")
				.attr("class", "axis")
				.attr("transform", "translate(" + padding + ",0)")
				.call(yAxis);

		</script>
    </body>
</html>     
